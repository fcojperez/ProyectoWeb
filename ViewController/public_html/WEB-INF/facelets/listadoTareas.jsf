<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    <html xmlns="http://www.w3.org/1999/xhtml">
        <h:head>
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />		
 
            <title>
                <ui:insert name="titulo">Titulo</ui:insert>
            </title>
            <h:outputStylesheet library="css/" name="listatareas.css" />
            <h:outputStylesheet library="bootstrap-3.3.4-dist/" name="css/bootstrap.css" />
            <h:outputScript library="jquery/" name="jquery-1.11.2.js" />
        </h:head>
        <h:body>
                <h:form>
                <h1><h:outputText value="Listado de tareas" /></h1>
                <div class="agenda">
                    <div class="table-responsive">
                        <h:dataTable styleClass="table table-condensed table-bordered" value="#{tasksBean.tasks}" var="item" id="tasksList" rows="#{tasksBean.tasksSize}">
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Fecha de inicio"  />
                                </f:facet>
                                <h:inputText styleClass="agenda-date" value="#{item.fechaInicio}" size="10" rendered="#{item.editable}" />
                                <h:outputText styleClass="agenda-date" value="#{item.fechaInicio}" rendered="#{item.editable}">
                                    <f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
                                </h:outputText>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Fecha de fin" />
                                </f:facet>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="ID"/>
                                </f:facet>
                                <h:inputText styleClass="agenda-date" value="#{item.id}" rendered="#{item.editable}" />
                                <h:outputText styleClass="agenda-date" value="#{item.id}" rendered="#{item.editable}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Título" />
                                </f:facet>
                                <h:inputText styleClass="agenda-date" value="#{item.titulo}" rendered="#{item.editable}" />
                                <h:outputText styleClass="agenda-date" value="#{item.titulo}" rendered="#{item.editable}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Descripción" />
                                </f:facet>
                                <h:inputText styleClass="agenda-date" value="#{item.descripcion}" rendered="#{item.editable}"/>
                                <h:outputText styleClass="agenda-date" value="#{item.descripcion}" rendered="#{item.editable}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="Estado" />
                                </f:facet>
                                <h:inputText styleClass="agenda-date" value="#{item.estado}" rendered="#{item.editable}" />
                                <h:outputText styleClass="agenda-date" value="#{item.estado}" rendered="#{item.editable}"/>
                            </h:column>
                            <h:column>
                                <f:facet name="header">
                                </f:facet>
                                <h:commandLink value="Edit" action="#{tasksBean.editAction(item)}" rendered="#{not item.editable}" />
                                <h:commandButton value="Save Changes" action="#{tasksBean.saveAction}" />
                            </h:column>
                        </h:dataTable>
                    </div>
                </div>
            </h:form>
        </h:body>
    </html>
</f:view>